<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes, viewport-fit=cover">
    <meta name="description" content="BroPro English - Master grammar, vocabulary, and communication skills">
    <meta name="mobile-web-app-capable" content="yes">
    <title>English | BroPro</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="/styles/main.css">
    <link rel="stylesheet" href="/styles/mobile.css">
    <link rel="stylesheet" href="/subjects/english/english.css">

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
</head>

<body data-theme="light">
    <!-- Floating Letters Background -->
    <div class="letters-bg">
        <span class="float-letter" style="--x: 5%; --delay: 0s">A</span>
        <span class="float-letter" style="--x: 15%; --delay: 1s">B</span>
        <span class="float-letter" style="--x: 25%; --delay: 2s">C</span>
        <span class="float-letter" style="--x: 35%; --delay: 0.5s">ğŸ“</span>
        <span class="float-letter" style="--x: 50%; --delay: 1.5s">âœï¸</span>
        <span class="float-letter" style="--x: 65%; --delay: 2.5s">X</span>
        <span class="float-letter" style="--x: 75%; --delay: 0.8s">Y</span>
        <span class="float-letter" style="--x: 85%; --delay: 1.8s">Z</span>
        <span class="float-letter" style="--x: 95%; --delay: 3s">ğŸ“š</span>
    </div>

    <!-- Navigation -->
    <nav class="navbar glass-nav">
        <div class="nav-container">
            <a href="/" class="nav-logo">
                <img src="/assets/logo-small.png" alt="BroPro" class="logo-image">
                <span class="logo-text">BroPro</span>
            </a>
            <div class="nav-breadcrumb">
                <span class="breadcrumb-divider">/</span>
                <span class="breadcrumb-current">ğŸ“– English</span>
            </div>
            <div class="nav-right">
                <div class="xp-display">
                    <span class="xp-icon">â­</span>
                    <span class="xp-count" id="xpCount">0</span>
                    <span class="xp-label">XP</span>
                </div>
                <button class="theme-toggle" id="themeToggle">
                    <span class="theme-icon">ğŸŒ™</span>
                </button>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="lang-main">
        <!-- Hero Section -->
        <section class="lang-hero">
            <div class="hero-content">
                <div class="book-animation">
                    <span class="book-emoji">ğŸ“–</span>
                    <div class="sparkles">
                        <span>âœ¨</span>
                        <span>âœ¨</span>
                        <span>âœ¨</span>
                    </div>
                </div>
                <h1 class="lang-title">
                    English
                    <span class="title-sub">Language</span>
                </h1>
                <p class="lang-subtitle">Master grammar, expand vocabulary & become a word wizard!</p>

                <!-- Word of the Day -->
                <div class="word-of-day" id="wordOfDay">
                    <span class="wod-label">ğŸ“š Word of the Day</span>
                    <span class="wod-word" id="wodWord">Serendipity</span>
                    <span class="wod-meaning" id="wodMeaning">Finding something good without looking for it</span>
                </div>
            </div>
        </section>

        <!-- Activities Grid -->
        <section class="activities-section">
            <div class="section-header">
                <h2 class="section-title">ğŸ¯ Choose Your Challenge</h2>
                <p class="section-desc">Sharpen your language skills with fun activities!</p>
            </div>

            <div class="activities-grid">
                <!-- Grammar Quiz -->
                <div class="activity-card" onclick="openGrammarLevels()">
                    <div class="card-visual grammar-visual">
                        <span class="visual-icon">ğŸ“</span>
                    </div>
                    <div class="card-body">
                        <h3 class="card-title">Grammar Master</h3>
                        <p class="card-desc">Tenses, parts of speech, punctuation & more</p>
                    </div>
                </div>

                <!-- Master Vocabulary -->
                <div class="activity-card" onclick="openVocabularyLevels()">
                    <div class="card-visual vocabulary-visual">
                        <span class="visual-icon">ğŸ“š</span>
                    </div>
                    <div class="card-body">
                        <h3 class="card-title">Master Vocabulary</h3>
                        <p class="card-desc">Learn new words and their meanings</p>
                    </div>
                </div>

                <!-- Master Synonyms -->
                <div class="activity-card" onclick="openSynonymsLevels()">
                    <div class="card-visual synonyms-visual">
                        <span class="visual-icon">ğŸ”—</span>
                    </div>
                    <div class="card-body">
                        <h3 class="card-title">Master Synonyms</h3>
                        <p class="card-desc">Find words with similar meanings</p>
                    </div>
                </div>

                <!-- Master Antonyms -->
                <div class="activity-card" onclick="openAntonymsLevels()">
                    <div class="card-visual antonyms-visual">
                        <span class="visual-icon">â†”ï¸</span>
                    </div>
                    <div class="card-body">
                        <h3 class="card-title">Master Antonyms</h3>
                        <p class="card-desc">Find words with opposite meanings</p>
                    </div>
                </div>

                <!-- Idioms & Phrases -->
                <div class="activity-card" onclick="openIdiomsLevels()">
                    <div class="card-visual idioms-visual">
                        <span class="visual-icon">ğŸ’¬</span>
                    </div>
                    <div class="card-body">
                        <h3 class="card-title">Idioms & Phrases</h3>
                        <p class="card-desc">Learn common English expressions</p>
                    </div>
                </div>

                <!-- Spelling Bee -->
                <div class="activity-card" onclick="openActivity('spelling')">
                    <div class="card-visual spelling-visual">
                        <span class="visual-icon">ğŸ</span>
                    </div>
                    <div class="card-body">
                        <h3 class="card-title">Spelling Bee</h3>
                        <p class="card-desc">Can you spell these tricky words?</p>
                        <div class="card-meta">
                            <span class="difficulty advanced">Advanced</span>
                            <span class="xp-badge">+25 XP</span>
                        </div>
                    </div>
                </div>

                <!-- Word Scramble -->
                <div class="activity-card" onclick="openActivity('scramble')">
                    <div class="card-visual scramble-visual">
                        <span class="visual-icon">ğŸ”€</span>
                    </div>
                    <div class="card-body">
                        <h3 class="card-title">Word Scramble</h3>
                        <p class="card-desc">Unscramble letters to form words!</p>
                        <div class="card-meta">
                            <span class="difficulty legendary">Legendary</span>
                            <span class="xp-badge">+30 XP</span>
                        </div>
                    </div>
                </div>

                <!-- Leaderboard -->
                <div class="activity-card leaderboard-card" onclick="openLeaderboard()">
                    <div class="card-visual" style="background: linear-gradient(135deg, #ffd700, #ff8c00);">
                        <span class="visual-icon">ğŸ†</span>
                    </div>
                    <div class="card-body">
                        <h3 class="card-title">Leaderboard</h3>
                        <p class="card-desc">See the top English Champions!</p>
                        <div class="card-meta">
                            <span class="difficulty" style="background: gold; color: #333;">Rankings</span>
                            <span class="xp-badge">ğŸŒŸ Global</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Daily Challenge -->
        <section class="daily-section">
            <div class="daily-card">
                <div class="daily-header">
                    <span class="daily-icon">ğŸ¯</span>
                    <span class="daily-label">Daily Challenge</span>
                </div>
                <p class="daily-desc">Complete all activities today successfully!</p>
                <div class="daily-progress">
                    <div class="progress-bar">
                        <div class="progress-fill" id="dailyProgress"></div>
                    </div>
                    <span class="progress-text" id="dailyText">0/6 Complete</span>
                </div>
                <div class="daily-reward">
                    <span>ğŸ† Reward: +100 Bonus XP</span>
                </div>
            </div>
        </section>
    </main>

    <!-- Quiz Modal -->
    <div class="quiz-modal" id="quizModal">
        <div class="quiz-container">
            <button class="close-btn" onclick="closeQuiz()">âœ•</button>

            <div class="quiz-header">
                <span class="quiz-category" id="quizCategory">Grammar</span>
                <span class="quiz-title" id="quizTitle">Grammar Master</span>
                <div class="quiz-progress">
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                    <span><span id="currentQ">1</span>/<span id="totalQ">10</span></span>
                </div>
            </div>

            <div class="quiz-body">
                <div class="question-box" id="questionBox">
                    <span class="question-emoji" id="questionEmoji">ğŸ“</span>
                    <h3 class="question-text" id="questionText">Which sentence is correct?</h3>
                </div>

                <div class="options-grid" id="optionsGrid">
                    <!-- Filled by JS -->
                </div>

                <div class="feedback-box" id="feedbackBox">
                    <span class="feedback-icon" id="feedbackIcon">âœ…</span>
                    <span class="feedback-text" id="feedbackText">Correct!</span>
                </div>
            </div>

            <div class="quiz-footer">
                <div class="score-display">
                    <span>âœ… <span id="correctCount">0</span></span>
                    <span>âŒ <span id="wrongCount">0</span></span>
                    <span>â­ <span id="xpCount2">0</span> XP</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Spelling Modal -->
    <div class="spelling-modal" id="spellingModal">
        <div class="spelling-container">
            <button class="close-btn" onclick="closeSpelling()">âœ•</button>

            <div class="spelling-header">
                <span class="quiz-title">ğŸ Spelling Bee</span>
                <div class="quiz-progress">
                    <span><span id="spellCurrentQ">1</span>/<span id="spellTotalQ">10</span></span>
                </div>
            </div>

            <div class="spelling-body">
                <p class="spelling-hint" id="spellingHint">Type the correct spelling:</p>
                <p class="spelling-meaning" id="spellingMeaning">"A pleasant smell"</p>

                <input type="text" class="spelling-input" id="spellingInput" placeholder="Type your answer..."
                    autocomplete="off">
                <button class="check-btn" onclick="checkSpelling()">Check âœ“</button>

                <div class="feedback-box" id="spellingFeedback">
                    <span class="feedback-icon" id="spellFeedbackIcon">âœ…</span>
                    <span class="feedback-text" id="spellFeedbackText">Correct!</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Results Modal -->
    <div class="results-modal" id="resultsModal">
        <div class="results-box">
            <div class="results-icon" id="resultsIcon">ğŸ†</div>
            <h2 class="results-title" id="resultsTitle">Great Job!</h2>
            <div class="results-stats">
                <div class="stat">
                    <span class="stat-value" id="finalCorrect">0</span>
                    <span class="stat-label">Correct</span>
                </div>
                <div class="stat">
                    <span class="stat-value" id="finalAccuracy">0%</span>
                    <span class="stat-label">Accuracy</span>
                </div>
                <div class="stat">
                    <span class="stat-value" id="finalXP">0</span>
                    <span class="stat-label">XP Earned</span>
                </div>
            </div>
            <div class="results-buttons">
                <button class="btn-explain" onclick="openExplanations()">ğŸ“š Learn Why</button>
                <button class="btn-again" onclick="replayQuiz()">ğŸ”„ Play Again</button>
                <button class="btn-home" onclick="closeResults()">ğŸ  Menu</button>
            </div>
        </div>
    </div>

    <!-- Leaderboard Modal -->
    <div class="leaderboard-modal" id="leaderboardModal">
        <div class="leaderboard-container">
            <button class="close-modal" onclick="closeLeaderboard()">âœ•</button>
            <h2 class="leaderboard-title">ğŸ† English Leaderboard</h2>

            <!-- Period Tabs -->
            <div class="leaderboard-tabs"
                style="display: flex; justify-content: center; gap: 0.5rem; margin-bottom: 1.5rem;">
                <button class="tab-btn active" data-period="alltime" onclick="switchTab('alltime')"
                    style="padding: 0.5rem 1rem; border: none; border-radius: 50px; font-weight: 600; cursor: pointer; background: linear-gradient(135deg, #fa709a, #fee140); color: white; box-shadow: 0 4px 15px rgba(250, 112, 154, 0.3);">
                    ğŸŒŸ All Time
                </button>
                <button class="tab-btn" data-period="today" onclick="switchTab('today')"
                    style="padding: 0.5rem 1rem; border: none; border-radius: 50px; font-weight: 600; cursor: pointer; background: transparent; color: var(--text-secondary);">
                    ğŸ“… Today
                </button>
                <button class="tab-btn" data-period="week" onclick="switchTab('week')"
                    style="padding: 0.5rem 1rem; border: none; border-radius: 50px; font-weight: 600; cursor: pointer; background: transparent; color: var(--text-secondary);">
                    ğŸ“† This Week
                </button>
            </div>

            <div class="leaderboard-list" id="leaderboardList"></div>
            <div class="your-rank-card">
                <span class="your-rank-label">Your Rank</span>
                <span class="your-rank-position">#<span id="yourPosition">-</span></span>
                <span class="your-rank-score"><span id="yourScore">0</span> XP</span>
            </div>
        </div>
    </div>

    <!-- Vocabulary Levels Modal -->
    <div class="vocab-levels-modal" id="vocabLevelsModal">
        <div class="vocab-levels-container">
            <button class="close-modal" onclick="closeVocabularyLevels()">âœ•</button>

            <div class="vocab-levels-header">
                <span class="vocab-levels-icon">ğŸ“š</span>
                <h2 class="vocab-levels-title">Master Vocabulary</h2>
                <p class="vocab-levels-subtitle">Choose your level and expand your word power!</p>
            </div>

            <div class="vocab-levels-grid" id="vocabLevelsGrid">
                <!-- Level 1 -->
                <div class="vocab-level-card" onclick="startVocabularyLevel(1)">
                    <div class="level-badge-premium">Level 1</div>
                    <div class="level-icon">ğŸŒ±</div>
                    <p class="level-desc">Essential vocabulary for beginners</p>
                    <div class="level-meta">
                        <span class="level-words">ğŸ“ 10 Words</span>
                        <span class="level-xp">+20 XP each</span>
                    </div>
                    <div class="level-progress">
                        <div class="level-progress-bar">
                            <div class="level-progress-fill" id="level1Progress" style="width: 0%;"></div>
                        </div>
                        <span class="level-progress-text" id="level1ProgressText">Not Started</span>
                    </div>
                </div>

                <!-- Level 2 -->
                <div class="vocab-level-card" onclick="startVocabularyLevel(2)">
                    <div class="level-badge-premium">Level 2</div>
                    <div class="level-icon">ğŸŒ¿</div>
                    <p class="level-desc">Slightly harder vocabulary</p>
                    <div class="level-meta">
                        <span class="level-words">ğŸ“ 10 Words</span>
                        <span class="level-xp">+20 XP each</span>
                    </div>
                    <div class="level-progress">
                        <div class="level-progress-bar">
                            <div class="level-progress-fill" id="level2Progress" style="width: 0%;"></div>
                        </div>
                        <span class="level-progress-text" id="level2ProgressText">Not Started</span>
                    </div>
                </div>

                <!-- Level 3 -->
                <div class="vocab-level-card" onclick="startVocabularyLevel(3)">
                    <div class="level-badge-premium">Level 3</div>
                    <div class="level-icon">ğŸŒ³</div>
                    <p class="level-desc">Intermediate vocabulary</p>
                    <div class="level-meta">
                        <span class="level-words">ğŸ“ 10 Words</span>
                        <span class="level-xp">+20 XP each</span>
                    </div>
                    <div class="level-progress">
                        <div class="level-progress-bar">
                            <div class="level-progress-fill" id="level3Progress" style="width: 0%;"></div>
                        </div>
                        <span class="level-progress-text" id="level3ProgressText">Not Started</span>
                    </div>
                </div>

                <!-- More levels will be added dynamically by the teacher -->
            </div>

            <div class="vocab-levels-footer">
                <p>ğŸ“ˆ More levels will be added as you learn! Keep practicing!</p>
            </div>
        </div>
    </div>

    <!-- Grammar Levels Modal -->
    <div class="vocab-levels-modal" id="grammarLevelsModal">
        <div class="vocab-levels-container">
            <button class="close-modal" onclick="closeGrammarLevels()">âœ•</button>

            <div class="vocab-levels-header">
                <span class="vocab-levels-icon">ğŸ“</span>
                <h2 class="vocab-levels-title">Grammar Master</h2>
                <p class="vocab-levels-subtitle">Master tenses, parts of speech & more!</p>
            </div>

            <div class="vocab-levels-grid" id="grammarLevelsGrid">
                <!-- Level 1 -->
                <div class="vocab-level-card" onclick="startGrammarLevel(1)">
                    <div class="level-badge-premium">Level 1</div>
                    <div class="level-icon">ğŸŒ±</div>
                    <p class="level-desc">Basic grammar fundamentals</p>
                    <div class="level-meta">
                        <span class="level-words">ğŸ“ 10 Questions</span>
                        <span class="level-xp">+15 XP each</span>
                    </div>
                    <div class="level-progress">
                        <div class="level-progress-bar">
                            <div class="level-progress-fill" id="grammarLevel1Progress" style="width: 0%;"></div>
                        </div>
                        <span class="level-progress-text" id="grammarLevel1ProgressText">Not Started</span>
                    </div>
                </div>

                <!-- Level 2 -->
                <div class="vocab-level-card" onclick="startGrammarLevel(2)">
                    <div class="level-badge-premium">Level 2</div>
                    <div class="level-icon">ğŸŒ¿</div>
                    <p class="level-desc">Slightly harder grammar</p>
                    <div class="level-meta">
                        <span class="level-words">ğŸ“ 10 Questions</span>
                        <span class="level-xp">+15 XP each</span>
                    </div>
                    <div class="level-progress">
                        <div class="level-progress-bar">
                            <div class="level-progress-fill" id="grammarLevel2Progress" style="width: 0%;"></div>
                        </div>
                        <span class="level-progress-text" id="grammarLevel2ProgressText">Not Started</span>
                    </div>
                </div>
            </div>

            <div class="vocab-levels-footer">
                <p>ğŸ“ˆ More levels will be added as you learn! Keep practicing!</p>
            </div>
        </div>
    </div>

    <!-- Synonyms Levels Modal -->
    <div class="vocab-levels-modal" id="synonymsLevelsModal">
        <div class="vocab-levels-container">
            <button class="close-modal" onclick="closeSynonymsLevels()">âœ•</button>

            <div class="vocab-levels-header">
                <span class="vocab-levels-icon">ğŸ”—</span>
                <h2 class="vocab-levels-title">Master Synonyms</h2>
                <p class="vocab-levels-subtitle">Find words with similar meanings!</p>
            </div>

            <div class="vocab-levels-grid" id="synonymsLevelsGrid">
                <!-- Level 1 -->
                <div class="vocab-level-card" onclick="startSynonymsLevel(1)">
                    <div class="level-badge-premium">Level 1</div>
                    <div class="level-icon">ğŸŒ±</div>
                    <p class="level-desc">Basic word pairs</p>
                    <div class="level-meta">
                        <span class="level-words">ğŸ“ 10 Questions</span>
                        <span class="level-xp">+15 XP each</span>
                    </div>
                    <div class="level-progress">
                        <div class="level-progress-bar">
                            <div class="level-progress-fill" id="synonymsLevel1Progress" style="width: 0%;"></div>
                        </div>
                        <span class="level-progress-text" id="synonymsLevel1ProgressText">Not Started</span>
                    </div>
                </div>

                <!-- Level 2 -->
                <div class="vocab-level-card" onclick="startSynonymsLevel(2)">
                    <div class="level-badge-premium">Level 2</div>
                    <div class="level-icon">ğŸŒ¿</div>
                    <p class="level-desc">Slightly harder words</p>
                    <div class="level-meta">
                        <span class="level-words">ğŸ“ 10 Questions</span>
                        <span class="level-xp">+15 XP each</span>
                    </div>
                    <div class="level-progress">
                        <div class="level-progress-bar">
                            <div class="level-progress-fill" id="synonymsLevel2Progress" style="width: 0%;"></div>
                        </div>
                        <span class="level-progress-text" id="synonymsLevel2ProgressText">Not Started</span>
                    </div>
                </div>
            </div>

            <div class="vocab-levels-footer">
                <p>ğŸ“ˆ More levels will be added as you learn! Keep practicing!</p>
            </div>
        </div>
    </div>

    <!-- Antonyms Levels Modal -->
    <div class="vocab-levels-modal" id="antonymsLevelsModal">
        <div class="vocab-levels-container">
            <button class="close-modal" onclick="closeAntonymsLevels()">âœ•</button>

            <div class="vocab-levels-header">
                <span class="vocab-levels-icon">â†”ï¸</span>
                <h2 class="vocab-levels-title">Master Antonyms</h2>
                <p class="vocab-levels-subtitle">Find words with opposite meanings!</p>
            </div>

            <div class="vocab-levels-grid" id="antonymsLevelsGrid">
                <!-- Level 1 -->
                <div class="vocab-level-card" onclick="startAntonymsLevel(1)">
                    <div class="level-badge-premium">Level 1</div>
                    <div class="level-icon">ğŸŒ±</div>
                    <p class="level-desc">Basic opposite pairs</p>
                    <div class="level-meta">
                        <span class="level-words">ğŸ“ 10 Questions</span>
                        <span class="level-xp">+15 XP each</span>
                    </div>
                    <div class="level-progress">
                        <div class="level-progress-bar">
                            <div class="level-progress-fill" id="antonymsLevel1Progress" style="width: 0%;"></div>
                        </div>
                        <span class="level-progress-text" id="antonymsLevel1ProgressText">Not Started</span>
                    </div>
                </div>

                <!-- Level 2 -->
                <div class="vocab-level-card" onclick="startAntonymsLevel(2)">
                    <div class="level-badge-premium">Level 2</div>
                    <div class="level-icon">ğŸŒ¿</div>
                    <p class="level-desc">Slightly harder words</p>
                    <div class="level-meta">
                        <span class="level-words">ğŸ“ 10 Questions</span>
                        <span class="level-xp">+15 XP each</span>
                    </div>
                    <div class="level-progress">
                        <div class="level-progress-bar">
                            <div class="level-progress-fill" id="antonymsLevel2Progress" style="width: 0%;"></div>
                        </div>
                        <span class="level-progress-text" id="antonymsLevel2ProgressText">Not Started</span>
                    </div>
                </div>
            </div>

            <div class="vocab-levels-footer">
                <p>ğŸ“ˆ More levels will be added as you learn! Keep practicing!</p>
            </div>
        </div>
    </div>

    <!-- Idioms Levels Modal -->
    <div class="vocab-levels-modal" id="idiomsLevelsModal">
        <div class="vocab-levels-container">
            <button class="close-modal" onclick="closeIdiomsLevels()">âœ•</button>

            <div class="vocab-levels-header">
                <span class="vocab-levels-icon">ğŸ’¬</span>
                <h2 class="vocab-levels-title">Idioms & Phrases</h2>
                <p class="vocab-levels-subtitle">Learn common English expressions!</p>
            </div>

            <div class="vocab-levels-grid" id="idiomsLevelsGrid">
                <!-- Level 1 -->
                <div class="vocab-level-card" onclick="startIdiomsLevel(1)">
                    <div class="level-badge-premium">Level 1</div>
                    <div class="level-icon">ğŸŒ±</div>
                    <p class="level-desc">Common everyday idioms</p>
                    <div class="level-meta">
                        <span class="level-words">ğŸ“ 10 Idioms</span>
                        <span class="level-xp">+20 XP each</span>
                    </div>
                    <div class="level-progress">
                        <div class="level-progress-bar">
                            <div class="level-progress-fill" id="idiomsLevel1Progress" style="width: 0%;"></div>
                        </div>
                        <span class="level-progress-text" id="idiomsLevel1ProgressText">Not Started</span>
                    </div>
                </div>

                <!-- Level 2 -->
                <div class="vocab-level-card" onclick="startIdiomsLevel(2)">
                    <div class="level-badge-premium">Level 2</div>
                    <div class="level-icon">ğŸŒ¿</div>
                    <p class="level-desc">More interesting idioms</p>
                    <div class="level-meta">
                        <span class="level-words">ğŸ“ 10 Idioms</span>
                        <span class="level-xp">+20 XP each</span>
                    </div>
                    <div class="level-progress">
                        <div class="level-progress-bar">
                            <div class="level-progress-fill" id="idiomsLevel2Progress" style="width: 0%;"></div>
                        </div>
                        <span class="level-progress-text" id="idiomsLevel2ProgressText">Not Started</span>
                    </div>
                </div>
            </div>

            <div class="vocab-levels-footer">
                <p>ğŸ“ˆ More levels will be added as you learn! Keep practicing!</p>
            </div>
        </div>
    </div>

    <!-- Premium Bhai Message Notification Popup -->
    <div class="bhai-notification-overlay" id="bhaiNotificationPopup">
        <div class="notification-particles"><span class="particle"></span><span class="particle"></span><span
                class="particle"></span><span class="particle"></span></div>
        <div class="bhai-notification-content">
            <div class="bhai-notification-avatar"><img src="/assets/bhai-avatar.png" alt="Bhai"
                    class="bhai-notif-img"><span class="crown-badge">ğŸ‘‘</span></div>
            <div class="notification-text">
                <h2 class="notification-title"><span class="title-emoji">ğŸ’¬</span> Bhai wants to talk!</h2>
                <p class="notification-subtitle">You have a new message</p>
                <div class="message-preview-box" id="bhaiMessagePreview"><span class="preview-text">"Hey!"</span></div>
            </div>
            <div class="notification-actions">
                <button class="notif-btn primary" onclick="openChatFromNotification()"><span
                        class="btn-icon">ğŸ’¬</span><span class="btn-text">Open Chat</span></button>
                <button class="notif-btn secondary" onclick="dismissNotification()"><span
                        class="btn-text">Later</span></button>
            </div>
            <div class="notification-footer">
                <span class="typing-indicator"><span class="dot"></span><span class="dot"></span><span
                        class="dot"></span></span>
                <span class="footer-text">Bhai is waiting...</span>
            </div>
        </div>
    </div>
    <style>
        .bhai-notification-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(10, 10, 30, 0.97);
            backdrop-filter: blur(25px);
            z-index: 9999999;
            display: none;
            align-items: center;
            justify-content: center;
        }

        .bhai-notification-overlay.active {
            display: flex;
            animation: notifFadeIn 0.5s ease forwards;
        }

        @keyframes notifFadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        .notification-particles {
            position: absolute;
            width: 100%;
            height: 100%;
            overflow: hidden;
            pointer-events: none;
        }

        .particle {
            position: absolute;
            width: 10px;
            height: 10px;
            background: linear-gradient(135deg, #8b5cf6, #d946ef);
            border-radius: 50%;
            animation: floatParticle 4s infinite;
            opacity: 0.6;
        }

        @keyframes floatParticle {

            0%,
            100% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-20px);
            }
        }

        .bhai-notification-content {
            background: linear-gradient(145deg, #1a1a2e, #16213e);
            border: 1px solid rgba(139, 92, 246, 0.3);
            border-radius: 24px;
            padding: 2rem;
            max-width: 400px;
            width: 90%;
            text-align: center;
        }

        .bhai-notification-avatar {
            width: 80px;
            height: 80px;
            margin: 0 auto 1rem;
            position: relative;
        }

        .bhai-notif-img {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid #a855f7;
        }

        .crown-badge {
            position: absolute;
            top: -8px;
            right: -8px;
            font-size: 1.5rem;
        }

        .notification-title {
            color: white;
            font-size: 1.4rem;
            margin: 0.5rem 0;
        }

        .notification-subtitle {
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.9rem;
        }

        .message-preview-box {
            background: rgba(139, 92, 246, 0.1);
            border: 1px solid rgba(139, 92, 246, 0.2);
            border-radius: 12px;
            padding: 1rem;
            margin: 1rem 0;
        }

        .preview-text {
            color: #a0a0ff;
            font-style: italic;
        }

        .notification-actions {
            display: flex;
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .notif-btn {
            flex: 1;
            padding: 0.875rem 1.25rem;
            border-radius: 12px;
            border: none;
            cursor: pointer;
            font-weight: 600;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .notif-btn.primary {
            background: linear-gradient(135deg, #8b5cf6, #a855f7);
            color: white;
        }

        .notif-btn.secondary {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .notification-footer {
            margin-top: 1.5rem;
            padding-top: 1rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
            color: rgba(255, 255, 255, 0.5);
            font-size: 0.85rem;
        }

        .typing-indicator {
            display: flex;
            gap: 4px;
        }

        .typing-indicator .dot {
            width: 6px;
            height: 6px;
            background: #8b5cf6;
            border-radius: 50%;
            animation: typingDot 1.4s ease-in-out infinite;
        }

        .typing-indicator .dot:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-indicator .dot:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes typingDot {

            0%,
            60%,
            100% {
                transform: translateY(0);
                opacity: 0.5;
            }

            30% {
                transform: translateY(-6px);
                opacity: 1;
            }
        }
    </style>

    <!-- Cashfree Payment SDK -->
    <script src="https://sdk.cashfree.com/js/v3/cashfree.js"></script>

    <script src="/scripts/gamification.js?v=11"></script>
    <script src="/scripts/psychology-features.js?v=3"></script>
    <script src="/scripts/firebase-auth.js?v=33"></script>
    <script src="/scripts/leaderboard.js?v=17"></script>
    <script src="/scripts/admin.js?v=21"></script>
    <script src="/scripts/activity-ticker.js?v=3"></script>
    <script src="/scripts/payment.js?v=5"></script>
    <script src="/scripts/app.js?v=37"></script>
    <script src="/scripts/explanations.js?v=1"></script>
    <script src="/subjects/english/english.js?v=13"></script>
</body>

</html>